## 如何执行

```bash
rustc 02_type_of_numbers.rs
./02_type_of_numbers
```

## 可用语言

本文档也提供其他语言版本：

- [Hindi](docs/README[French].md)
- [Spanish](docs/README[German].md)
- [Spanish](docs/README[Hindi].md)
- [Spanish](docs/README[Portuguese].md)
- [Spanish](docs/README[Russian].md)
- [Spanish](docs/README[Spanish].md)
- [English](../README.md)

# Rust 数字类型

本课程演示了 Rust 中可用的不同数字类型，包括整数和浮点数。

## 📋 目录

- [🔢 整数类型](#-整数类型)
- [📊 浮点类型](#-浮点类型)
- [🔤 数字字面量](#-数字字面量)
- [🎯 类型推断](#-类型推断)
- [➗ 算术运算](#-算术运算)
- [🚀 运行示例](#-运行示例)

## 🔢 整数类型

Rust 提供了几种具有不同大小和有符号/无符号变体的整数类型。

### 无符号整数

无符号整数只能表示正数（包括零）。

| 类型 | 大小 | 范围 | 示例 |
|------|------|------|------|
| `u8` | 8 位 | 0 到 255 | `let x: u8 = 255;` |
| `u16` | 16 位 | 0 到 65,535 | `let x: u16 = 65_535;` |
| `u32` | 32 位 | 0 到 4,294,967,295 | `let x: u32 = 4_294_967_295;` |
| `u64` | 64 位 | 0 到 18,446,744,073,709,551,615 | `let x: u64 = 18_446_744_073_709_551_615;` |
| `u128` | 128 位 | 0 到 340,282,366,920,938,463,463,374,607,431,768,211,455 | `let x: u128 = 340_282_366_920_938_463_463_374_607_431_768_211_455;` |
| `usize` | 架构相关 | 32 位：0 到 4,294,967,295 / 64 位：0 到 18,446,744,073,709,551,615 | `let x: usize = 100;` |

### 有符号整数

有符号整数可以表示正数和负数。

| 类型 | 大小 | 范围 | 示例 |
|------|------|------|------|
| `i8` | 8 位 | -128 到 127 | `let x: i8 = -128;` |
| `i16` | 16 位 | -32,768 到 32,767 | `let x: i16 = 32_767;` |
| `i32` | 32 位 | -2,147,483,648 到 2,147,483,647 | `let x: i32 = -2_147_483_648;` |
| `i64` | 64 位 | -9,223,372,036,854,775,808 到 9,223,372,036,854,775,807 | `let x: i64 = 9_223_372_036_854_775_807;` |
| `i128` | 128 位 | -170,141,183,460,469,231,731,687,303,715,884,105,728 到 170,141,183,460,469,231,731,687,303,715,884,105,727 | `let x: i128 = -170_141_183_460_469_231_731_687_303_715_884_105_728;` |
| `isize` | 架构相关 | 32 位：-2,147,483,648 到 2,147,483,647 / 64 位：-9,223,372,036,854,775,808 到 9,223,372,036,854,775,807 | `let x: isize = -50;` |

## 📊 浮点类型

浮点类型表示具有不同精度级别的十进制数。

| 类型 | 大小 | 精度 | 示例 |
|------|------|------|------|
| `f32` | 32 位 | ~6-9 位十进制数字 | `let x: f32 = 3.141592;` |
| `f64` | 64 位 | ~15-17 位十进制数字 | `let x: f64 = 2.718281828459045;` |

**注意**：`f64` 是 Rust 中的默认浮点类型，通常由于其更高的精度而被优先选择。

## 🔤 数字字面量

Rust 支持各种编写数字字面量的方式以提高可读性。

### 下划线分隔符

```rust
let million = 1_000_000;        // 等同于 1000000
let binary = 0b_1111_0000;      // 带分隔符的二进制
let hex = 0x_DEAD_BEEF;         // 带分隔符的十六进制
```

### 不同进制

```rust
let decimal = 42;               // 十进制（默认）
let hex = 0x2A;                 // 十六进制（0x 前缀）
let octal = 0o52;               // 八进制（0o 前缀）
let binary = 0b101010;          // 二进制（0b 前缀）
```

### 类型后缀

```rust
let x = 42u32;                  // u32 后缀
let y = 3.14f32;                // f32 后缀
let z = 1_000_000i64;           // i64 后缀
```

## 🎯 类型推断

Rust 通常可以从变量的上下文推断其类型。

```rust
let x = 42;         // i32（默认整数类型）
let y = 3.14;       // f64（默认浮点类型）
let z = 42u8;       // u8（显式类型注解）
```

## ➗ 算术运算

所有数字类型都支持基本的算术运算。

```rust
let a = 10;
let b = 3;

let sum = a + b;        // 加法
let difference = a - b; // 减法
let product = a * b;    // 乘法
let quotient = a / b;   // 除法
let remainder = a % b;  // 取模
```

### 溢出行为

- **调试模式**：程序在整数溢出时发生 panic
- **发布模式**：环绕（二进制补码）

```rust
let x: u8 = 255;
let y = x + 1;  // 在调试模式下 panic，在发布模式下环绕到 0
```

## 🚀 运行示例

### 先决条件

确保您的系统上已安装 Rust。

```bash
# 检查 Rust 是否已安装
rustc --version
cargo --version
```

### 编译和执行

```bash
# 导航到项目目录
cd b_02_type_of_numbers

# 编译程序
rustc 02_type_of_numbers.rs

# 运行可执行文件
./02_type_of_numbers.exe  # 在 Windows 上
# 或
./02_type_of_numbers      # 在 Linux/macOS 上
```

### 预期输出

```text
Unsigned integers: u8=255 u16=65535 u32=4294967295 u64=18446744073709551615 u128=340282366920938463463374607431768211455 usize=100
Signed integers: i8=-128 i16=32767 i32=-2147483648 i64=9223372036854775807 i128=-170141183460469231731687303715884105728 isize=-50
Floating numbers: f32=3.141592 f64=2.718281828459045
This is printed on the same line!
```

## 📚 关键概念

### 内存使用

- `u8` 和 `i8`：1 字节
- `u16` 和 `i16`：2 字节
- `u32` 和 `i32`：4 字节
- `u64` 和 `i64`：8 字节
- `u128` 和 `i128`：16 字节
- `f32`：4 字节
- `f64`：8 字节

### 性能考虑

- 较小的类型使用更少的内存并且可能更快
- 大多数计算中 `f64` 优于 `f32`
- `i32` 通常是通用整数的最佳选择
- 在处理内存索引时使用 `usize`/`isize`

### 常见陷阱

1. **整数溢出**：注意可能超过类型限制的算术运算
2. **类型不匹配**：不能在不同类型之间执行操作，除非进行显式转换
3. **精度损失**：`f32` 的精度低于 `f64`
4. **平台差异**：`usize`/`isize` 的大小在 32 位和 64 位系统之间有所不同

## 🔍 进一步阅读

- [Rust 书籍 - 数据类型](https://doc.rust-lang.org/book/ch03-02-data-types.html)
- [Rust 参考 - 类型](https://doc.rust-lang.org/reference/types.html)
- [原始类型文档](https://doc.rust-lang.org/std/index.html#primitives)

## 🧪 练习

1. **类型探索**：尝试更改示例中的值，看看不同范围会发生什么
2. **算术运算**：添加代码来执行各种算术运算并打印结果
3. **类型转换**：尝试在不同数字类型之间进行转换
4. **溢出测试**：测试当超过不同类型的限制时会发生什么

## 📝 笔记

- 此示例演示了每种类型的最大值和最小值
- 在实践中，您通常会为整数使用 `i32`，为浮点数使用 `f64`
- Rust 的类型系统有助于防止许多常见的编程错误
- 在选择类型时，始终考虑您的程序需要的数值范围

---

## 🌍 可用语言

本文档也提供其他语言版本：

- [English](../README.md)
- [Spanish](README[Spanish].md)
- [Hindi](README[Hindi].md)

## 📚 课程信息

本课程是 Rust 学习课程的一部分
